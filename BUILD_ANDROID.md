# Инструкция по сборке и установке приложения на Android

## Вариант 1: Быстрая установка через Expo Go (для разработки)

1. Установите **Expo Go** на Android устройство из Google Play Store
2. Запустите проект:
   ```bash
   npm start
   ```
3. Отсканируйте QR-код в приложении Expo Go

**⚠️ Ограничение:** Данные могут не сохраняться между перезапусками в режиме разработки.

## Вариант 2: Сборка APK для установки (рекомендуется)

### Требования:

- Аккаунт Expo (бесплатный): https://expo.dev/signup
- Установленный EAS CLI: `npm install -g eas-cli`

### Шаги:

1. **Войдите в Expo:**

   ```bash
   eas login
   ```

2. **Настройте проект (первый раз):**

   ```bash
   eas build:configure
   ```

   Выберите Android и следуйте инструкциям.

3. **Соберите APK:**

   ```bash
   eas build --platform android --profile preview
   ```

   Или для production сборки:

   ```bash
   eas build --platform android --profile production
   ```

4. **Скачайте APK:**
   - После завершения сборки вы получите ссылку
   - Скачайте APK файл на Android устройство
   - Установите APK (может потребоваться разрешить установку из неизвестных источников)

### Локальная сборка (требует Android Studio):

```bash
npx expo prebuild
npx expo run:android
```

## Важно: Сохранение данных при обновлениях

✅ **Данные автоматически сохраняются** между обновлениями приложения благодаря:

- AsyncStorage сохраняет данные локально на устройстве
- При обновлении приложения данные остаются на месте
- Реализована система миграции данных для будущих изменений структуры

### При обновлении приложения:

1. **Увеличьте версию** в `app.json`:

   ```json
   "version": "1.0.1",
   "android": {
     "versionCode": 2
   }
   ```

2. **Если изменили структуру данных**, обновите `CURRENT_STORAGE_VERSION` в `utils/storage.ts` и добавьте логику миграции в функцию `migrateData()`.

3. Пересоберите APK - все существующие цитаты сохранятся автоматически!

## Альтернатива: Использование EAS Build

Для автоматических сборок и обновлений через OTA (Over-The-Air):

```bash
eas build --platform android
eas update --branch production
```

Это позволит обновлять приложение без переустановки через Google Play.
